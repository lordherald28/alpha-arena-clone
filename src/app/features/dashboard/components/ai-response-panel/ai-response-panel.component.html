<div class="panel">
  <h3>Respuesta de la IA (GLM-4)</h3>
  @if (aiResponseHist().length > 0) {
  @for (item of aiResponseHist(); track item) {
  <div class="response-summary">
    <div class="decision" [class.buy]="item.decision === 'BUY'" [class.sell]="item.decision === 'SELL'"
      [class.hold]="item.decision === 'HOLD'">
      Decisión: <strong>{{ item.decision }}</strong>
    </div>
    <div class="confidence">
      Confianza: {{ (item.confidence * 100).toFixed(1) }}%
    </div>
    <div class="reason">
      <strong>Razón:</strong> {{ item.reason }}
    </div>
  </div>
  <details class="json-details">
    <summary>Respuesta JSON Cruda</summary>
    <pre>{{ item.rawJson | json }}</pre>
  </details>
  }

  } @else {
  <p>Esperando análisis de la IA...</p>
  }
</div>